//@ui5-bundle in/sijas/ui5/lib/speech-recognizer/library-preload.js
sap.ui.predefine("in/sijas/ui5/lib/speech-recognizer/SpeechRecognizer",["sap/ui/base/Object","sap/m/BusyDialog","sap/base/Log","sap/ui/model/json/JSONModel"],function(e,t,n,i){return e.extend("SpeechRecognizer",{TIMEOUT_MILLISECONDS:5e3,registeredCommand:{},registeredButtons:[],oComponent:null,busyDialog:new t({text:"Listening to Sound",title:"Detecting Voice"}),constructor:function(e,t){if(e instanceof sap.ui.core.UIComponent){this.oComponent=e;this.bTurnOnAssistant=t;this.oComponent.setModel(new i({bTurnOnAssistant:t}),"assistant");if("webkitSpeechRecognition"in window){this.Commander=new window.webkitSpeechRecognition;this.Commander.continuous=true;this.Commander.interimResults=true;this.Commander.lang="en-IN";var s="";this.Commander.onstart=function(){s=""}.bind(this);this.Commander.onend=function(){s=""}.bind(this);this.Commander.onresult=function(e){var t="";for(var n=e.resultIndex;n<e.results.length;n++){var i=e.results[n][0].transcript;i.replace("\n","<br>");if(e.results[n].isFinal){s+=i}else{t+=i}if(s.toUpperCase().search("HELLO ASSISTANT")>=0||t.toUpperCase().search("HELLO ASSISTANT")>=0){s="";t="";this.callListener()}}}.bind(this)}if(t){this.Commander.start()}}else{n.error("Speech Recognizer: Component Instance not found in SpeechRecognizer Constructor")}},setBusyDialogTexts:function(e,t){this.busyDialog.setTitle(e);this.busyDialog.setText(t)},whenSpeechRecognized:function(){return new Promise(function(e){if("webkitSpeechRecognition"in window){var t=new window.webkitSpeechRecognition;t.continuous=false;t.interimResults=true;t.lang="en-IN";var n="";t.onstart=function(){if(this.Commander&&this.bTurnOnAssistant){this.Commander.stop()}this.busyDialog.setText("Listening to Sound");this.busyDialog.open()}.bind(this);t.onend=function(){if(this.Commander&&this.bTurnOnAssistant){this.Commander.start()}this.busyDialog.close();this.busyDialog.setText(n);e(n)}.bind(this);t.onresult=function(e){var t="";for(var i=e.resultIndex;i<e.results.length;i++){var s=e.results[i][0].transcript;s.replace("\n","<br>");if(e.results[i].isFinal){n+=s}else{t+=s}this.busyDialog.setText(t)}}.bind(this);t.start()}}.bind(this))},registerCallButton:function(e){this.addListener(e,false,null);e.attachPress(this.callListener.bind(this))},registerCommandWithParam:function(e,t){var n=e.toUpperCase();this.registeredCommand[n]={withArgs:true,fnCallback:t}},registerCommandWithOutParam:function(e,t){var n=e.toUpperCase();this.registeredCommand[n]={withArgs:false,fnCallback:t}},callCommands:function(e){var t=Object.keys(this.registeredCommand);t.forEach(function(t){if(e.toUpperCase().search(t)===0){var n=this.registeredCommand[t],i=t.length,s=e.substring(i+1,e.length);if(n.withArgs){n.fnCallback(s)}else{n.fnCallback()}}}.bind(this))},addListener:function(e,t,n){var i={oButton:e,bWithArg:t,fnCallback:n};this.registeredButtons.push(i)},callListener:function(e){var t=e&&e.getSource(),n=this.callCommands.bind(this);this.registeredButtons.forEach(function(e){if(e===t&&e.fnCallback){n=e.fnCallback}});this.whenSpeechRecognized().then(n)}})});
sap.ui.predefine("in/sijas/ui5/lib/speech-recognizer/library",["sap/ui/core/library"],function(){"use strict";return sap.ui.getCore().initLibrary({name:"in.sijas.ui5.lib.speech-recognizer",dependencies:["sap.ui.core","sap.m"],controls:["in.sijas.ui5.lib.speech-recognizer.SpeechRecognizer"],noLibraryCSS:true,version:"1.0.3"})});
sap.ui.require.preload({
	"in/sijas/ui5/lib/speech-recognizer/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"in.sijas.ui5.lib.speech-recognizer","type":"library","embeds":[],"applicationVersion":{"version":"1.0.3"},"title":"An OpenUI5 library which extends JSONModel to support CRUD (Create, Read, Update, Delete) operations.","description":"An OpenUI5 library which extends JSONModel to support CRUD (Create, Read, Update, Delete) operations.","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.88","libs":{"sap.ui.core":{"minVersion":"1.88.0"}}},"library":{"i18n":false,"css":false,"content":{"controls":["in.sijas.ui5.lib.speech-recognizer.SpeechRecognizer"],"elements":[],"types":[],"interfaces":[]}}}}'
});
